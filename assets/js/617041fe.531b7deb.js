"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[501],{9443:function(e,a,t){var n=(0,t(7294).createContext)(void 0);a.Z=n},6044:function(e,a,t){t.r(a),t.d(a,{contentTitle:function(){return v},default:function(){return y},frontMatter:function(){return g},metadata:function(){return b},toc:function(){return N}});var n=t(7462),r=t(3366),l=t(7294),o=t(3905),i=t(2389),s=t(9443);var p=function(){var e=(0,l.useContext)(s.Z);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e},d=t(9521),u=t(6010),c="tabItem_vU9c";function m(e){var a,t,n,r=e.lazy,o=e.block,i=e.defaultValue,s=e.values,m=e.groupId,h=e.className,k=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),f=null!=s?s:k.map((function(e){var a=e.props;return{value:a.value,label:a.label}})),g=(0,d.lx)(f,(function(e,a){return e.value===a.value}));if(g.length>0)throw new Error('Docusaurus error: Duplicate values "'+g.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var v=null===i?i:null!=(a=null!=i?i:null==(t=k.find((function(e){return e.props.default})))?void 0:t.props.value)?a:null==(n=k[0])?void 0:n.props.value;if(null!==v&&!f.some((function(e){return e.value===v})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+v+'" but none of its children has the corresponding value. Available values are: '+f.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var b=p(),N=b.tabGroupChoices,w=b.setTabGroupChoices,y=(0,l.useState)(v),T=y[0],x=y[1],C=[],j=(0,d.o5)().blockElementScrollPositionUntilNextRender;if(null!=m){var I=N[m];null!=I&&I!==T&&f.some((function(e){return e.value===I}))&&x(I)}var G=function(e){var a=e.currentTarget,t=C.indexOf(a),n=f[t].value;n!==T&&(j(a),x(n),null!=m&&w(m,n))},Z=function(e){var a,t=null;switch(e.key){case"ArrowRight":var n=C.indexOf(e.currentTarget)+1;t=C[n]||C[0];break;case"ArrowLeft":var r=C.indexOf(e.currentTarget)-1;t=C[r]||C[C.length-1]}null==(a=t)||a.focus()};return l.createElement("div",{className:"tabs-container"},l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,u.Z)("tabs",{"tabs--block":o},h)},f.map((function(e){var a=e.value,t=e.label;return l.createElement("li",{role:"tab",tabIndex:T===a?0:-1,"aria-selected":T===a,className:(0,u.Z)("tabs__item",c,{"tabs__item--active":T===a}),key:a,ref:function(e){return C.push(e)},onKeyDown:Z,onFocus:G,onClick:G},null!=t?t:a)}))),r?(0,l.cloneElement)(k.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):l.createElement("div",{className:"margin-vert--md"},k.map((function(e,a){return(0,l.cloneElement)(e,{key:a,hidden:e.props.value!==T})}))))}function h(e){var a=(0,i.Z)();return l.createElement(m,(0,n.Z)({key:String(a)},e))}var k=function(e){var a=e.children,t=e.hidden,n=e.className;return l.createElement("div",{role:"tabpanel",hidden:t,className:n},a)},f=["components"],g={id:"setup",title:"Setup"},v=void 0,b={unversionedId:"setup",id:"setup",isDocsHomePage:!1,title:"Setup",description:"Prerequisite",source:"@site/docs/setup.mdx",sourceDirName:".",slug:"/setup",permalink:"/docs/setup",editUrl:"https://github.com/gapitio/grafana-360-viewer/edit/main/website/docs/setup.mdx",tags:[],version:"current",frontMatter:{id:"setup",title:"Setup"},sidebar:"docsSidebar",previous:{title:"Introduction",permalink:"/docs/introduction"},next:{title:"Areas",permalink:"/docs/areas"}},N=[{value:"Prerequisite",id:"prerequisite",children:[{value:"Optional",id:"optional",children:[],level:3}],level:2},{value:"Get the backend/template",id:"get-the-backendtemplate",children:[],level:2},{value:"Configure the backend",id:"configure-the-backend",children:[],level:2},{value:"Run the backend",id:"run-the-backend",children:[],level:2},{value:"Setup grafana data source (JSON API)",id:"setup-grafana-data-source-json-api",children:[{value:"Get the data source id",id:"get-the-data-source-id",children:[],level:3}],level:2},{value:"Setup dashboard",id:"setup-dashboard",children:[{value:"Setup variables",id:"setup-variables",children:[{value:"area",id:"area",children:[],level:4}],level:3},{value:"scene",id:"scene",children:[],level:3},{value:"autoRotate",id:"autorotate",children:[],level:3},{value:"Setup queries",id:"setup-queries",children:[],level:3},{value:"Setup grafana panel (HTMLGraphics)",id:"setup-grafana-panel-htmlgraphics",children:[],level:3}],level:2}],w={toc:N};function y(e){var a=e.components,l=(0,r.Z)(e,f);return(0,o.kt)("wrapper",(0,n.Z)({},w,l,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"prerequisite"},"Prerequisite"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docker.com/"},"Docker")," | ",(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/get-docker/"},"Install")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/"},"Docker compose")," | ",(0,o.kt)("a",{parentName:"li",href:"https://docs.docker.com/compose/install/"},"Install")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/"},"Grafana")," | ",(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/docs/grafana/latest/installation/"},"Install"))),(0,o.kt)("p",null,"Grafana plugins"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://gapit-htmlgraphics-panel.gapit.io/"},"HTMLGraphics")," | ",(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/grafana/plugins/gapit-htmlgraphics-panel/"},"Marketplace")," | ",(0,o.kt)("a",{parentName:"li",href:"https://gapit-htmlgraphics-panel.gapit.io/docs/installation/"},"Install")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://marcus.se.net/grafana-json-datasource/"},"JSON API")," | ",(0,o.kt)("a",{parentName:"li",href:"https://grafana.com/grafana/plugins/marcusolsson-json-datasource/"},"Marketplace")," | ",(0,o.kt)("a",{parentName:"li",href:"https://marcus.se.net/grafana-json-datasource/installation"},"Install"))),(0,o.kt)("h3",{id:"optional"},"Optional"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://git-scm.com/"},"Git")," | ",(0,o.kt)("a",{parentName:"li",href:"https://git-scm.com/downloads"},"Install")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/"},"Visual studio code")," | ",(0,o.kt)("a",{parentName:"li",href:"https://code.visualstudio.com/download"},"Install"))),(0,o.kt)("video",{width:"100%",controls:!0},(0,o.kt)("source",{src:"/video/setup.mp4",type:"video/mp4"}),"Your browser does not support the video tag."),(0,o.kt)("h2",{id:"get-the-backendtemplate"},"Get the backend/template"),(0,o.kt)(h,{groupId:"version",defaultValue:"template",values:[{label:"Using template (requires git)",value:"template"},{label:"Using ZIP file",value:"zip"}],mdxType:"Tabs"},(0,o.kt)(k,{value:"template",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go to ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/gapitio/grafana-360-viewer-backend-template"},"grafana-360-viewer-backend-template"),"."),(0,o.kt)("li",{parentName:"ol"},'Click "Use this template" and make a repo from the template.'),(0,o.kt)("li",{parentName:"ol"},"Download the newly created repo onto to your local machine."))),(0,o.kt)(k,{value:"zip",mdxType:"TabItem"},(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Go to ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/gapitio/grafana-360-viewer-backend-template"},"grafana-360-viewer-backend-template"),"."),(0,o.kt)("li",{parentName:"ol"},'Download the repo onto to your local machine. Click on "Code" then "Download ZIP".\n',(0,o.kt)("img",{alt:"Download backend using ZIP",src:t(6844).Z})),(0,o.kt)("li",{parentName:"ol"},"Unzip the zip file.")))),(0,o.kt)("h2",{id:"configure-the-backend"},"Configure the backend"),(0,o.kt)(h,{groupId:"grafana-installed-type",defaultValue:"docker",values:[{label:"Grafana installed with docker",value:"docker"},{label:"Grafana installed with other methods",value:"other"}],mdxType:"Tabs"},(0,o.kt)(k,{value:"docker",mdxType:"TabItem"},(0,o.kt)("p",null,"Set the correct network name in the ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file. The network name should (usally) be the same as the grafana service network name."),(0,o.kt)("p",null,"Change your password and token. ",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/how-to-change-password"},"Guide: How to change password"),".")),(0,o.kt)(k,{value:"other",mdxType:"TabItem"},(0,o.kt)("p",null,"Change your password and token. ",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/how-to-change-password"},"Guide: How to change password"),"."))),(0,o.kt)("h2",{id:"run-the-backend"},"Run the backend"),(0,o.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Start the backend on boot or when the docker restarts. ",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/how-to-start-backend-on-boot"},"Guide: How to start backend on boot"),"."))),(0,o.kt)("p",null,"To start the backend with ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker compose"),". Go to the folder with the ",(0,o.kt)("inlineCode",{parentName:"p"},"docker-compose.yml")," file (the backend folder that was downloaded previously) and run the following command."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"docker-compose up -d\n")),(0,o.kt)("h2",{id:"setup-grafana-data-source-json-api"},"Setup grafana data source (JSON API)"),(0,o.kt)("p",null,"Add the ",(0,o.kt)("a",{parentName:"p",href:"https://marcus.se.net/grafana-json-datasource/"},"JSON API data source"),". ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/datasources/add-a-data-source/"},"Guide: Add a data source"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"JSON API data source",src:t(8613).Z})),(0,o.kt)("p",null,"With the following settings."),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Name can be anything and URL has to be the nginx container name and the port number")),(0,o.kt)(h,{groupId:"grafana-installed-type",defaultValue:"docker",values:[{label:"Grafana installed with docker",value:"docker"},{label:"Grafana installed with other methods",value:"other"}],mdxType:"Tabs"},(0,o.kt)(k,{value:"docker",mdxType:"TabItem"},(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Name can be anything and URL has to be the nginx container name and the port number")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Name = grafana-360-viewer-backend"),(0,o.kt)("li",{parentName:"ul"},"URL = grafana-360-viewer-backend:8080"))),(0,o.kt)(k,{value:"other",mdxType:"TabItem"},(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Name can be anything and URL has to be the nginx container name and the port number")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Name = grafana-360-viewer-backend"),(0,o.kt)("li",{parentName:"ul"},"URL = localhost:3203")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"JSON API data source settings",src:t(1598).Z})),(0,o.kt)("h3",{id:"get-the-data-source-id"},"Get the data source id"),(0,o.kt)("p",null,"Open the developer tools in your browser (Control+Shift+I) and navigate to the network tab."),(0,o.kt)("p",null,'Click on "Save & test".'),(0,o.kt)("p",null,"Note down the number in the network tab (Needed for later)."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Data source id",src:t(1110).Z})),(0,o.kt)("h2",{id:"setup-dashboard"},"Setup dashboard"),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Some errors might pop up on the dashboard. Like ",(0,o.kt)("inlineCode",{parentName:"p"},'Error updating options: invalid input syntax for type integer: ""'),". This is expected as there is nothing in the database. Don't worry about it yet."))),(0,o.kt)("p",null,"You can import the following ",(0,o.kt)("a",{target:"_blank",href:"pathname:///json/panel.json",download:"grafana-360-viewer-panel.json"},"panel json (download)"),". ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/dashboards/export-import/#import-dashboard"},"Guide: Import dashboard"),"."),(0,o.kt)("p",null,"Or you can add the dashboard manually by following the below steps."),(0,o.kt)("h3",{id:"setup-variables"},"Setup variables"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/variables/variable-types/add-query-variable/"},"Guide: How to add variables"),"."),(0,o.kt)("h4",{id:"area"},"area"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Variable name = ",(0,o.kt)("inlineCode",{parentName:"li"},"area")),(0,o.kt)("li",{parentName:"ul"},"Type = ",(0,o.kt)("inlineCode",{parentName:"li"},"Query"))),(0,o.kt)("p",null,"Query options taken from the ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/dashboards/json-model/#templating"},"json model (templating -> query)"),". If the json seems complicated you can just look at the images below."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"query options")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cacheDurationSeconds": 300,\n  "experimentalVariableTextField": "Text",\n  "experimentalVariableValueField": "Value",\n  "fields": [\n    {\n      "jsonPath": "$.*.area_key",\n      "name": "Value",\n      "type": "number"\n    },\n    {\n      "jsonPath": "$.*.area_name",\n      "language": "jsonpath",\n      "name": "Text",\n      "type": "string"\n    }\n  ],\n  "method": "GET",\n  "queryParams": "",\n  "urlPath": "/areas"\n}\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"template-variable-area-fields",src:t(8380).Z}),"\n",(0,o.kt)("img",{alt:"template-variable-area-path",src:t(3584).Z}),"\n",(0,o.kt)("img",{alt:"template-variable-area-experimental",src:t(7197).Z})),(0,o.kt)("h3",{id:"scene"},"scene"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Variable name = ",(0,o.kt)("inlineCode",{parentName:"li"},"scene")),(0,o.kt)("li",{parentName:"ul"},"Type = ",(0,o.kt)("inlineCode",{parentName:"li"},"Query"))),(0,o.kt)("p",null,"Query options taken from the ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/dashboards/json-model/#templating"},"json model (templating -> query)"),". If the json seems complicated you can just look at the images below."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"query options")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "cacheDurationSeconds": 300,\n  "experimentalVariableTextField": "Text",\n  "experimentalVariableValueField": "Value",\n  "fields": [\n    {\n      "jsonPath": "$.*.scene_key",\n      "name": "Value"\n    },\n    {\n      "jsonPath": "$.*.scene_name",\n      "language": "jsonpath",\n      "name": "Text"\n    }\n  ],\n  "method": "GET",\n  "queryParams": "",\n  "urlPath": "/scenes?area_key=eq.${area}"\n}\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"template-variable-scene-fields",src:t(181).Z}),"\n",(0,o.kt)("img",{alt:"template-variable-scene-path",src:t(1559).Z}),"\n",(0,o.kt)("img",{alt:"template-variable-scene-experimental",src:t(51).Z})),(0,o.kt)("h3",{id:"autorotate"},"autoRotate"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Variable name = ",(0,o.kt)("inlineCode",{parentName:"li"},"autoRotate")),(0,o.kt)("li",{parentName:"ul"},"Type = ",(0,o.kt)("inlineCode",{parentName:"li"},"Custom")),(0,o.kt)("li",{parentName:"ul"},"Values separated by comma = ",(0,o.kt)("inlineCode",{parentName:"li"},"True,False"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "selected": true,\n    "text": "True",\n    "value": "True"\n  },\n  {\n    "selected": false,\n    "text": "False",\n    "value": "False"\n  }\n]\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"template-variable-auto-rotate",src:t(2654).Z})),(0,o.kt)("h3",{id:"setup-queries"},"Setup queries"),(0,o.kt)("p",null,"Create a panel. ",(0,o.kt)("a",{parentName:"p",href:"https://grafana.com/docs/grafana/latest/panels/add-a-panel/"},"Guide: Add a panel")),(0,o.kt)("p",null,"Create a 3 queries. areas, scenes, and hotspots."),(0,o.kt)("p",null,"Query targets taken from the json panel model. If the json seems complicated you can just look at the images below."),(0,o.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Change the uid if you're using the json model."))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "cacheDurationSeconds": 300,\n    "datasource": {\n      "type": "marcusolsson-json-datasource",\n      "uid": "datasource-uid"\n    },\n    "fields": [\n      {\n        "jsonPath": "$",\n        "name": "Value"\n      }\n    ],\n    "method": "GET",\n    "queryParams": "",\n    "refId": "areas",\n    "urlPath": "/areas"\n  },\n  {\n    "cacheDurationSeconds": 300,\n    "datasource": {\n      "type": "marcusolsson-json-datasource",\n      "uid": "datasource-uid"\n    },\n    "fields": [\n      {\n        "jsonPath": "$",\n        "name": "Value"\n      }\n    ],\n    "hide": false,\n    "method": "GET",\n    "queryParams": "",\n    "refId": "scenes",\n    "urlPath": "/scenes?area_key=eq.${area}"\n  },\n  {\n    "cacheDurationSeconds": 300,\n    "datasource": {\n      "type": "marcusolsson-json-datasource",\n      "uid": "datasource-uid"\n    },\n    "fields": [\n      {\n        "jsonPath": "$",\n        "name": "Value"\n      }\n    ],\n    "hide": false,\n    "method": "GET",\n    "queryParams": "",\n    "refId": "hotspots",\n    "urlPath": "/hotspots?area_key=eq.${area}"\n  }\n]\n')),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"queries-fields",src:t(301).Z}),"\n",(0,o.kt)("img",{alt:"queries-path",src:t(2119).Z})),(0,o.kt)("h3",{id:"setup-grafana-panel-htmlgraphics"},"Setup grafana panel (HTMLGraphics)"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Add the ",(0,o.kt)("a",{parentName:"li",href:"https://gapit-htmlgraphics-panel.gapit.io/"},"HTMLGraphics panel"),". ",(0,o.kt)("a",{parentName:"li",href:"https://gapit-htmlgraphics-panel.gapit.io/docs/guides/how-to-add-the-panel/"},"Guide: How to add the HTMLGraphics panel"),"."),(0,o.kt)("li",{parentName:"ol"},"Go to the latest release of ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/gapitio/grafana-360-viewer/releases"},"Grafana 360 viewer")," and download the ",(0,o.kt)("inlineCode",{parentName:"li"},"grafana-360-viewer-<version>-panel-options.json")," from the assets."),(0,o.kt)("li",{parentName:"ol"},"Import the downloaded file to the HTMLGraphics panel. ",(0,o.kt)("a",{parentName:"li",href:"https://gapit-htmlgraphics-panel.gapit.io/docs/guides/how-to-import-export/"},"Guide: How to import/export"),"."),(0,o.kt)("li",{parentName:"ol"},"Go to the Custom properties options on the sidebar."),(0,o.kt)("li",{parentName:"ol"},"Change isGrafana to true."),(0,o.kt)("li",{parentName:"ol"},"Change the api url to the proxy path. ",(0,o.kt)("inlineCode",{parentName:"li"},"/api/datasources/proxy/datasource-id/"),". datasource-id is the number from ",(0,o.kt)("a",{parentName:"li",href:"#get-the-data-source-id"},"Get the data source id")," section."),(0,o.kt)("li",{parentName:"ol"},"Change the api token to token saved in the ",(0,o.kt)("inlineCode",{parentName:"li"},"token.txt")," file. The token from ",(0,o.kt)("a",{parentName:"li",href:"#configure-the-backend"},"Configure the backend\u200b")," section after changing the password and token.")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"custom-properties",src:t(3586).Z})))}y.isMDXComponent=!0},1110:function(e,a,t){a.Z=t.p+"assets/images/data-source-id-cebbf3d3e43850c7e4c5e0f6a5f96590.gif"},3586:function(e,a,t){a.Z=t.p+"assets/images/custom-properties-e8b5ba8916bbed5ebc1c9e7f839e6617.png"},6844:function(e,a,t){a.Z=t.p+"assets/images/download-backend-1bce60ecd88c659bb294edf5b04f8c0e.png"},301:function(e,a,t){a.Z=t.p+"assets/images/queries-fields-2cb11ba0c8921057299dafc0c876bd94.png"},2119:function(e,a,t){a.Z=t.p+"assets/images/queries-path-859a6c956fef9bdbd481f724dad29ca2.png"},1598:function(e,a,t){a.Z=t.p+"assets/images/screenshot-data-source-settings-c19eadd273199f5ea91587fce4ec60b2.png"},8613:function(e,a,t){a.Z=t.p+"assets/images/screenshot-json-api-data-source-d85c96a2108995dd95963c39e5e0567f.png"},7197:function(e,a,t){a.Z=t.p+"assets/images/template-variable-area-experimental-65e9c0ad8b8263b839edda2463c78fd6.png"},8380:function(e,a,t){a.Z=t.p+"assets/images/template-variable-area-fields-5f626a1a7c8d048e8073d1899e66afab.png"},3584:function(e,a,t){a.Z=t.p+"assets/images/template-variable-area-path-2596389231d5c4cb4ac4ab9b5786d5bf.png"},2654:function(e,a,t){a.Z=t.p+"assets/images/template-variable-auto-rotate-0805913c0bca1c0b491de8b337f53a76.png"},51:function(e,a,t){a.Z=t.p+"assets/images/template-variable-scene-experimental-6056e3bed8237a75bdb3017fb180085c.png"},181:function(e,a,t){a.Z=t.p+"assets/images/template-variable-scene-fields-d3b4196949288c48386f4d50affc9d6b.png"},1559:function(e,a,t){a.Z=t.p+"assets/images/template-variable-scene-path-6315f98bd362b9d2d96b4b424aedc64f.png"}}]);